<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>×¨×©×™××ª ××˜×•×¤×œ×™× ×•×¤×¨×•×˜×•×§×•×œ×™× â€” ×’×¨×™××˜×¨×™×”</title>
<style>
  :root{--bg:#f6f7fb;--card:#fff;--ink:#1f2937;--muted:#6b7280;--brand:#4f46e5;--ok:#059669;--warn:#d97706;--bad:#b91c1c;--line:#e5e7eb}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Arial Hebrew",Arial,sans-serif}
  header{padding:16px 20px;background:#111827;color:#fff;position:sticky;top:0;z-index:3}
  header h1{margin:0;font-size:20px}
  .container{max-width:1000px;margin:16px auto;padding:0 12px}
  section{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px;margin-bottom:14px}
  h2{margin:0 0 10px 0;font-size:18px}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
  .col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}.col-12{grid-column:span 12}
  @media(max-width:720px){.col-6,.col-4,.col-3{grid-column:span 12}}
  label{display:block;font-size:13px;color:var(--muted);margin-bottom:4px}
  input,select,textarea{width:100%;padding:10px;border:1px solid var(--line);border-radius:8px;font-size:15px;background:#fff}
  textarea{min-height:110px}
  .btn{display:inline-block;background:var(--brand);color:#fff;border:none;border-radius:10px;padding:10px 16px;cursor:pointer;font-size:14px}
  .btn.ghost{background:transparent;color:var(--brand);border:1px solid var(--brand)}
  .btn.muted{background:#6b7280}
  .btnbar{display:flex;gap:8px;flex-wrap:wrap}
  table{width:100%;border-collapse:collapse}
  th,td{border-bottom:1px solid var(--line);padding:8px;text-align:right;font-size:14px}
  tr:hover{background:#fafafa}
  .badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px}
  .ok{background:#ecfdf5;color:#059669;border:1px solid #a7f3d0}
  .warn{background:#fffbeb;color:#d97706;border:1px solid #fde68a}
  .bad{background:#fef2f2;color:#b91c1c;border:1px solid #fecaca}
  .muted{color:#6b7280}
  pre{white-space:pre-wrap;background:#f8fafc;border:1px solid var(--line);padding:12px;border-radius:8px}
  footer{color:var(--muted);font-size:12px;text-align:center;padding:24px 0}
</style>
</head>
<body>
<header><h1>ğŸ¥ ×¨×©×™××ª ××˜×•×¤×œ×™× ×•×¤×¨×•×˜×•×§×•×œ×™× â€” ×’×¨×™××˜×¨×™×”</h1></header>
<div class="container">

  <section>
    <h2>×¨×©×™××ª ××˜×•×¤×œ×™×</h2>
    <div class="grid">
      <div class="col-3"><label>×—×™×¤×•×©</label><input id="search" placeholder="×©× / ×—×“×¨ / ××‘×—× ×”â€¦"></div>
      <div class="col-9 btnbar" style="align-items:end;justify-content:flex-start">
        <button class="btn" id="btn-add">×”×•×¡×¤×ª ××˜×•×¤×œ</button>
        <button class="btn ghost" id="btn-clear">× ×™×§×•×™ ×”×›×œ (××§×•××™)</button>
        <span class="muted">×”× ×ª×•× ×™× × ×©××¨×™× ×‘×“×¤×“×¤×Ÿ ×‘×œ×‘×“ (localStorage). ××™×Ÿ ×œ×”×–×™×Ÿ ××–×”×” ×××™×ª×™.</span>
      </div>
    </div>
    <div id="form-wrap" style="display:none;margin-top:10px"></div>
    <div style="overflow:auto;margin-top:10px">
      <table><thead><tr>
        <th>×©×</th><th>×’×™×œ</th><th>××™×Ÿ</th><th>×—×“×¨/××™×˜×”</th><th>×ª××¨×™×š ×§×‘×œ×”</th><th>××‘×—× ×”</th><th>×¡×˜×˜×•×¡</th><th>×¤×¢×•×œ×•×ª</th>
      </tr></thead><tbody id="tbody"></tbody></table>
    </div>
  </section>

  <section>
    <h2>×§×‘×œ×” â€” ×™×¦×™×¨×ª ××¡××š</h2>
    <div class="muted">×‘×—×¨×• "×‘×—×¨" ×‘×˜×‘×œ×” ×œ××¢×œ×” ×›×“×™ ×œ××œ× ××•×˜×•××˜×™×ª.</div>
    <div class="grid" id="adm-grid"></div>
    <div class="btnbar" style="margin-top:8px">
      <button class="btn" id="adm-generate">×¦×•×¨ ××¡××š ×§×‘×œ×”</button>
      <button class="btn ghost" id="adm-clear">× ×™×§×•×™</button>
    </div>
    <pre id="adm-out" style="margin-top:10px"></pre>
  </section>

  <section>
    <h2>×¤×¨×•×˜×•×§×•×œ×™× â€” 4AT / Morse / Fried</h2>
    <div class="grid">
      <div class="col-12"><strong>4AT (×“×œ×™×¨×™×•×)</strong></div>
      <div class="col-4"><label>Alertness (0/4)</label><select id="a_alert"><option value="0">0 â€” ×ª×§×™×Ÿ</option><option value="4">4 â€” ×—×¨×™×’</option></select></div>
      <div class="col-4"><label>AMT4 (0/1)</label><select id="a_amt4"><option value="0">0 â€” ×ª×§×™×Ÿ</option><option value="1">1 â€” ×—×¨×™×’</option></select></div>
      <div class="col-4"><label>Attention (0/1)</label><select id="a_attn"><option value="0">0 â€” ×ª×§×™×Ÿ</option><option value="1">1 â€” ×—×¨×™×’</option></select></div>
      <div class="col-4"><label>Acute change (0/4)</label><select id="a_change"><option value="0">0 â€” ×œ×</option><option value="4">4 â€” ×›×Ÿ</option></select></div>
      <div class="col-8" style="display:flex;align-items:end;gap:8px"><button class="btn" id="a_calc">×—×©×‘ 4AT</button><span id="a_badge" class="badge">×¦×™×•×Ÿ: 0</span></div>

      <div class="col-12" style="margin-top:8px"><strong>Morse (×¡×™×›×•×Ÿ ×œ× ×¤×™×œ×•×ª)</strong></div>
      <div class="col-3"><label>×”×™×¡×˜×•×¨×™×™×ª × ×¤×™×œ×•×ª</label><select id="m_history"><option value="0">×œ×</option><option value="25">×›×Ÿ (25)</option></select></div>
      <div class="col-3"><label>××‘×—× ×” ××©× ×™×ª</label><select id="m_dx"><option value="0">×œ×</option><option value="15">×›×Ÿ (15)</option></select></div>
      <div class="col-3"><label>×¢×–×¨×™×</label><select id="m_aid"><option value="0">×œ×œ×</option><option value="15">××§×œ/×”×œ×™×›×•×Ÿ (15)</option><option value="30">×¨×”×™×˜×™× (30)</option></select></div>
      <div class="col-3"><label>×¢×™×¨×•×™</label><select id="m_iv"><option value="0">×œ×</option><option value="20">×›×Ÿ (20)</option></select></div>
      <div class="col-3"><label>×”×œ×™×›×”/×™×¦×™×‘×”</label><select id="m_gait"><option value="0">×ª×§×™×Ÿ</option><option value="10">×—×œ×© (10)</option><option value="20">×¤×’×•× (20)</option></select></div>
      <div class="col-3"><label>×©×™×¤×•×˜</label><select id="m_mental"><option value="0">×ª×§×™×Ÿ</option><option value="15">×¤×—×•×ª ××•×“×¢ (15)</option></select></div>
      <div class="col-6" style="display:flex;align-items:end;gap:8px"><button class="btn" id="m_calc">×—×©×‘ Morse</button><span id="m_badge" class="badge">×¦×™×•×Ÿ: 0</span></div>

      <div class="col-12" style="margin-top:8px"><strong>Fried (×©×‘×¨×™×¨×™×•×ª)</strong></div>
      <div class="col-3"><label>×™×¨×™×“×” ×‘××©×§×œ</label><select id="f_w"><option value="0">×œ×</option><option value="1">×›×Ÿ</option></select></div>
      <div class="col-3"><label>×ª×©×™×©×•×ª</label><select id="f_e"><option value="0">×œ×</option><option value="1">×›×Ÿ</option></select></div>
      <div class="col-3"><label>×¤×¢×™×œ×•×ª ×’×•×¤× ×™×ª × ××•×›×”</label><select id="f_a"><option value="0">×œ×</option><option value="1">×›×Ÿ</option></select></div>
      <div class="col-3"><label>××—×™×–×ª ×™×“ ×—×œ×©×”</label><select id="f_g"><option value="0">×œ×</option><option value="1">×›×Ÿ</option></select></div>
      <div class="col-3"><label>×”×œ×™×›×” ××™×˜×™×ª</label><select id="f_wk"><option value="0">×œ×</option><option value="1">×›×Ÿ</option></select></div>
      <div class="col-9" style="display:flex;align-items:end;gap:8px"><button class="btn" id="f_calc">×—×©×‘ Fried</button><span id="f_badge" class="badge">×¦×™×•×Ÿ: 0</span></div>
    </div>
  </section>

  <section>
    <h2>×ª×‘× ×™×ª ×™×™×¢×•×¥ â€” ×’×¨×™××˜×¨×™</h2>
    <div class="grid">
      <div class="col-6"><label>××—×œ×§×”</label><input id="c_dept" placeholder="×œ×“×•×’×³ ×¤× ×™××™×ª ×‘×³"></div>
      <div class="col-6"><label>×˜×œ×¤×•×Ÿ/×©×œ×•×—×”</label><input id="c_phone" placeholder="02-655-5xxx"></div>
      <div class="col-12"><label>×¤×¨×˜×™ ×”×¤× ×™×”</label><textarea id="c_body" placeholder="×¡×™×‘×ª ×™×™×¢×•×¥, ×©××œ×•×ª ×¡×¤×¦×™×¤×™×•×ªâ€¦"></textarea></div>
    </div>
    <div class="btnbar" style="margin-top:8px">
      <button class="btn" id="c_make">×¦×•×¨ ×‘×§×©×ª ×™×™×¢×•×¥</button>
      <button class="btn ghost" id="c_clear">× ×™×§×•×™</button>
    </div>
    <pre id="c_out" style="margin-top:10px"></pre>
  </section>

  <section>
    <h2>×™×™×¦×•× ×•×”×“×¤×¡×”</h2>
    <div class="btnbar">
      <button class="btn" id="btn-print">×”×“×¤×¡×”</button>
      <button class="btn muted" id="btn-json">×™×™×¦×•× JSON</button>
    </div>
    <div class="muted" style="margin-top:8px">
      <strong>××–×”×¨×”:</strong> ××™×Ÿ ×œ×”×–×™×Ÿ/×œ××—×¡×Ÿ ××™×“×¢ ××–×”×” ×××™×ª×™ ×©×œ ××˜×•×¤×œ×™×. ×”×“×¤×“×¤×Ÿ ×©×•××¨ × ×ª×•× ×™× ××§×•××™×™× ×‘×œ×‘×“ (localStorage).
    </div>
  </section>

  <footer>×œ×©×™××•×© ×œ×™××•×“×™ ×‘×œ×‘×“ â€” ××™×Ÿ ×œ×”×–×™×Ÿ ××–×”×™× ××™×©×™×™× â€¢ Â© Shaare Zedek</footer>
</div>

<script>
const $=s=>document.querySelector(s), $$=s=>Array.from(document.querySelectorAll(s)), fmt=v=>(v??'')===''?'â€”':v;
const LS='szmc_roster_v1'; let roster=[], selected=null;
const fields=[{id:'adm_name',label:'×©× ×”××˜×•×¤×œ'},{id:'adm_id',label:'××–×”×” ×¤× ×™××™ (××§×•××™)'},{id:'adm_age',label:'×’×™×œ'},{id:'adm_sex',label:'××™×Ÿ'},{id:'adm_date',label:'×ª××¨×™×š ×§×‘×œ×”'},{id:'adm_reason',label:'×¡×™×‘×ª ×§×‘×œ×”'},{id:'adm_dept',label:'××—×œ×§×”'},{id:'adm_bp',label:'BP'},{id:'adm_hr',label:'HR'},{id:'adm_rr',label:'RR'},{id:'adm_temp',label:'Temp'},{id:'adm_spo2',label:'SpO2'},{id:'adm_all',label:'××œ×¨×’×™×•×ª'},{id:'adm_meds',label:'×ª×¨×•×¤×•×ª'},{id:'adm_social',label:'×¨×§×¢ ×¡×•×¦×™××œ×™'}];
$('#adm-grid').innerHTML=fields.map(f=>`<div class="col-6"><label>${f.label}</label><input id="${f.id}"></div>`).join('');
function load(){try{roster=JSON.parse(localStorage.getItem(LS)||'[]')}catch{roster=[]}}
function save(){localStorage.setItem(LS,JSON.stringify(roster))}
function render(){
  const q=$('#search').value.trim().toLowerCase();
  const tbody = $('#tbody');
  tbody.innerHTML = ''; // Clear existing content
  
  const filteredRoster = roster.filter(p=>[p.name,p.age,p.sex,p.room,p.admDate,p.dx,p.status].join(' ').toLowerCase().includes(q));
  
  if (filteredRoster.length === 0) {
    const emptyRow = document.createElement('tr');
    const emptyCell = document.createElement('td');
    emptyCell.setAttribute('colspan', '8');
    emptyCell.className = 'muted';
    emptyCell.textContent = '××™×Ÿ × ×ª×•× ×™×';
    emptyRow.appendChild(emptyCell);
    tbody.appendChild(emptyRow);
    return;
  }
  
  filteredRoster.forEach(p => {
    const row = document.createElement('tr');
    
    // Create data cells
    [p.name, p.age, p.sex, p.room, p.admDate, p.dx, p.status].forEach(value => {
      const cell = document.createElement('td');
      cell.textContent = fmt(value);
      row.appendChild(cell);
    });
    
    // Create action buttons cell
    const actionsCell = document.createElement('td');
    
    const selectBtn = document.createElement('button');
    selectBtn.className = 'btn ghost';
    selectBtn.setAttribute('data-act', 'sel');
    selectBtn.setAttribute('data-id', p.id);
    selectBtn.textContent = '×‘×—×¨';
    
    const editBtn = document.createElement('button');
    editBtn.className = 'btn';
    editBtn.setAttribute('data-act', 'edit');
    editBtn.setAttribute('data-id', p.id);
    editBtn.textContent = '×¢×¨×™×›×”';
    
    const deleteBtn = document.createElement('button');
    deleteBtn.className = 'btn muted';
    deleteBtn.setAttribute('data-act', 'del');
    deleteBtn.setAttribute('data-id', p.id);
    deleteBtn.textContent = '××—×™×§×”';
    
    actionsCell.appendChild(selectBtn);
    actionsCell.appendChild(document.createTextNode(' '));
    actionsCell.appendChild(editBtn);
    actionsCell.appendChild(document.createTextNode(' '));
    actionsCell.appendChild(deleteBtn);
    
    row.appendChild(actionsCell);
    tbody.appendChild(row);
  });
}
function openForm(p=null){
  const w=$('#form-wrap'); w.style.display='block';
  const d=p||{name:'',age:'',sex:'',room:'',admDate:'',dx:'',status:'×¤×¢×™×œ'};
  w.innerHTML=`<div class="grid">
    <div class="col-4"><label>×©× *</label><input id="f_name" value="${d.name||}" required></div>
    <div class="col-2"><label>×’×™×œ *</label><input id="f_age" type="number" value="${d.age||}" min="0" max="150" step="1" required></div>
    <div class="col-2"><label>××™×Ÿ</label><select id="f_sex"><option ${d.sex==='×–'?'selected':''}> ×–</option><option ${d.sex==='× '?'selected':''}> × </option><option ${(!d.sex||d.sex==='××—×¨')?'selected':''}> ××—×¨</option></select></div>
    <div class="col-4"><label>×—×“×¨/××™×˜×”</label><input id="f_room" value="${d.room||}" pattern="[0-9A-Za-z\s-/]+"></div>
    <div class="col-4"><label>×ª××¨×™×š ×§×‘×œ×”</label><input id="f_adm" type="date" value="${d.admDate||}"></div>
    <div class="col-5"><label>××‘×—× ×”</label><input id="f_dx" value="${d.dx||}"></div>
    <div class="col-3"><label>×¡×˜×˜×•×¡</label><select id="f_status"><option ${d.status==='×¤×¢×™×œ'?'selected':''}> ×¤×¢×™×œ</option><option ${d.status==='×©×•×—×¨×¨'?'selected':''}> ×©×•×—×¨×¨</option></select></div>
    <div class="col-12 btnbar"><button class="btn" id="f_save">${p?'×¢×“×›×•×Ÿ':'×”×•×¡×¤×”'}</button><button class="btn ghost" id="f_cancel">×‘×™×˜×•×œ</button></div>
  </div>`;
  $('#f_cancel').onclick=()=>w.style.display='none';
  $('#f_save').onclick=()=>{
    // Validate mandatory fields
    const name = $('#f_name').value.trim();
    const age = $('#f_age').value.trim();
    
    if (!name) {
      alert('×©× ×”××˜×•×¤×œ ×”×•× ×©×“×” ×—×•×‘×”');
      $('#f_name').focus();
      return;
    }
    
    if (!age || isNaN(age) || parseInt(age) <= 0 || parseInt(age) > 150) {
      alert('× × ×œ×”×–×™×Ÿ ×’×™×œ ×ª×§×™×Ÿ (1-150)');
      $('#f_age').focus();
      return;
    }
    
    const obj={id:p?.id||String(Date.now()),name,age:parseInt(age),sex:$('#f_sex').value.trim(),room:$('#f_room').value.trim(),admDate:$('#f_adm').value.trim(),dx:$('#f_dx').value.trim(),status:$('#f_status').value.trim()};
    if(p){roster=roster.map(x=>x.id===p.id?obj:x)} else {roster.push(obj)}
    save(); render(); w.style.display='none';
  };
}
$('#btn-add').onclick=()=>openForm();
$('#btn-clear').onclick=()=>{ if(confirm('×œ××—×•×§ ××ª ×›×œ ×”×¨×©×™××” ×”××§×•××™×ª?')){roster=[]; save(); render();}};
$('#search').oninput=render;
$('#tbody').addEventListener('click',e=>{
  const b=e.target.closest('button'); if(!b) return; const id=b.dataset.id, act=b.dataset.act; const p=roster.find(x=>x.id===id);
  if(act==='sel'){selected=p; alert('× ×‘×—×¨: '+(p?.name||'')); prefill();}
  if(act==='edit'){openForm(p)}
  if(act==='del'){if(confirm('××—×™×§×”?')){roster=roster.filter(x=>x.id!==id); save(); render();}}
});
function prefill(){
  if(!selected) return;
  $('#adm_name').value=selected.name||''; $('#adm_age').value=selected.age||''; $('#adm_sex').value=selected.sex||'';
  $('#adm_date').value=selected.admDate||''; $('#adm_reason').value=selected.dx||'';
}
const badges={};
function riskBadge(el,score,low,midTh,mid,hiTh,hi){
  el.textContent=`×¦×™×•×Ÿ: ${score} â€” `+(score>=hiTh?hi:score>=midTh?mid:low);
  el.className='badge '+(score>=hiTh?'bad':score>=midTh?'warn':'ok');
}
$('#a_calc').onclick=()=>{const s=+$('#a_alert').value+ +$('#a_amt4').value+ +$('#a_attn').value+ +$('#a_change').value; riskBadge($('#a_badge'),s,'× ××•×š',1,'×—×©×“',4,'×“×œ×™×¨×™×•× ×¡×‘×™×¨');};
$('#m_calc').onclick=()=>{const s=+$('#m_history').value+ +$('#m_dx').value+ +$('#m_aid').value+ +$('#m_iv').value+ +$('#m_gait').value+ +$('#m_mental').value; riskBadge($('#m_badge'),s,'× ××•×š',25,'×‘×™× ×•× ×™',46,'×’×‘×•×”');};
$('#f_calc').onclick=()=>{const s=+$('#f_w').value+ +$('#f_e').value+ +$('#f_a').value+ +$('#f_g').value+ +$('#f_wk').value; riskBadge($('#f_badge'),s,'×—×¡×•×Ÿ',1,'×˜×¨×•×-×©×‘×¨×™×¨×™',3,'×©×‘×¨×™×¨×™');};
$('#adm-clear').onclick=()=>{fields.forEach(f=>$('#'+f.id).value=''); $('#adm-out').textContent='';};
$('#adm-generate').onclick=()=>{
  const v=Object.fromEntries(fields.map(f=>[f.id,$('#'+f.id).value.trim()])); const txt=`×§×‘×œ×” ×¨×¤×•××™×ª â€” ×©×¢×¨×™ ×¦×“×§
=====================================
×ª××¨×™×š: ${new Date().toLocaleDateString('he-IL')}
×©×: ${fmt(v.adm_name)}   ×’×™×œ/××™×Ÿ: ${fmt(v.adm_age)} / ${fmt(v.adm_sex)}
×—×“×¨: ${fmt(selected?.room)}   ××–×”×” ××§×•××™: ${fmt(v.adm_id)}

×¡×™×‘×ª ×§×‘×œ×”:
${fmt(v.adm_reason)}

×•×™×˜×œ×¡:
BP ${fmt(v.adm_bp)} | HR ${fmt(v.adm_hr)} | RR ${fmt(v.adm_rr)} | Temp ${fmt(v.adm_temp)} | SpO2 ${fmt(v.adm_spo2)}

××œ×¨×’×™×•×ª: ${fmt(v.adm_all)}
×ª×¨×•×¤×•×ª: ${fmt(v.adm_meds)}
×¨×§×¢ ×¡×•×¦×™××œ×™: ${fmt(v.adm_social)}

×ª×›× ×™×ª:
- ×§×‘×œ×” ×œ××—×œ×§×”: ${fmt(v.adm_dept)||'[×œ×§×‘×•×¢]'}
- ×‘×“×™×§×•×ª ×‘×¡×™×¡: ×“×/×›×™××™×”/×©×ª×Ÿ
- ×”×¢×¨×›×” ×’×¨×™××˜×¨×™×ª ×¨×‘-×ª×—×•××™×ª
- × ×™×˜×•×¨ ×¡×™×›×•× ×™× (×“×œ×™×¨×™×•×/× ×¤×™×œ×•×ª/×©×‘×¨×™×¨×™×•×ª)
`; $('#adm-out').textContent=txt;};
$('#c_make').onclick=()=>{$('#c_out').textContent=`×‘×§×©×ª ×™×™×¢×•×¥ ×’×¨×™××˜×¨×™
========================
××—×œ×§×”: ${fmt($('#c_dept').value)}
×˜×œ×¤×•×Ÿ: ${fmt($('#c_phone').value)}

×¤×¨×˜×™ ×”×¤× ×™×”:
${fmt($('#c_body').value)}

×©××œ×•×ª ×¡×¤×¦×™×¤×™×•×ª:
[×¦×™×™×Ÿ ×›××Ÿ]
`;};
$('#c_clear').onclick=()=>{['c_dept','c_phone','c_body'].forEach(id=>$('#'+id).value=''); $('#c_out').textContent='';};
$('#btn-print').onclick=()=>window.print();
$('#btn-json').onclick=()=>{
  const data={roster,selectedId:selected?.id||null,admission:Object.fromEntries(fields.map(f=>[f.id,$('#'+f.id).value.trim()])),
    protocols:{fourAT:{alert:+$('#a_alert').value,amt4:+$('#a_amt4').value,attention:+$('#a_attn').value,change:+$('#a_change').value},
    morse:{history:+$('#m_history').value,dx:+$('#m_dx').value,aid:+$('#m_aid').value,iv:+$('#m_iv').value,gait:+$('#m_gait').value,mental:+$('#m_mental').value},
    fried:{w:+$('#f_w').value,e:+$('#f_e').value,a:+$('#f_a').value,g:+$('#f_g').value,wk:+$('#f_wk').value}}};
  const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob);
  const a=document.createElement('a'); a.href=url; a.download='geriatrics_local_data.json'; a.click(); setTimeout(()=>URL.revokeObjectURL(url),500);
};
/* init */
(function(){ try{roster=JSON.parse(localStorage.getItem(LS)||'[]')}catch{roster=[]} render(); })();
</script>
</body>
</html>